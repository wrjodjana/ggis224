---
title: "Assignment 4"
author: "Warren Jodjana"
date: "2023-11-10"
output: html_document
---

```{r include=FALSE}
# load libraries
library(raster)
library(sf)
library(dplyr)
library(terra)
library(tmap)
library(data.table)
library(tidyverse)
library(sp)
library(spatstat)
```


```{r include=FALSE}
# load data
traffic <- read_csv("traffic.csv", show_col_types = FALSE)
boundary <- st_read("boundaries.geojson")
```

```{r include=FALSE}
# convert traffic data spatially
traffic_sf <- st_as_sf(traffic, coords = c("Longitude", "Latitude"), crs = 4326)

```

```{r include=FALSE}
# ensure both are the same CRS
boundary <- st_transform(boundary, st_crs(traffic_sf))
```

```{r include=FALSE}
# filter useless stuff
boundary <- boundary %>%
  select(-area, -perimeter, -comarea_id, -comarea)
```

```{r include=TRUE}
# Basic plot of traffic data on the boundary map
tmap_mode("view")

chitraffic <- tm_shape(boundary) + tm_borders(alpha = 0.4) +
  
  tm_shape(traffic_sf) + tm_dots(size = 0.01, col="black") +
  
  tm_layout(title="Average Daily Traffic Count in Chicago",
            title.size = 0.75,
            title.fontface = "bold") +
  
  tm_scale_bar(position = c("left", "bottom"))

chitraffic
```








