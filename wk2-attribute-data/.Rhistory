install.packages(sf)
# installing packages
install.packages("sf")
install.packages("dplyr")
install.packages("terra")
install.packages("spData")
# load libraries
library(sf)
library(dplyr)
library(terra)
library(spData)
# load data
data(us_states)
data(us_states_df)
head(us_states)
us_states_name = us_states |>
select(NAME)
head(us_states_name)
us_states_name <- select(us_states, NAME)
# installing packages
install.packages("sf")
install.packages("sf")
head(us_states_name)
head(us_states_name)
head(us_states)
us_states_pop <- us_states %>%
select(contains("total_pop_15"))
head(us_states_pop)
us_states_pop <- us_states %>%
select(matches("total_pop_15"))
head(us_states_pop)
us_states_pop <- us_states %>%
select(matches("total_pop_15", "total_pop_10"))
head(us_states_pop)
us_states_pop_new <- us_states %>%
select(NAME, total_pop_10, total_pop_15)
head(us_states_pop_new)
us_states_midwest <- us_states %>%
select(NAME, region = "Midwest")
us_states_midwest <- us_states %>%
select(NAME, region == "Midwest")
us_states_midwest <- us_states %>%
select(NAME, REGION == "Midwest")
head(us_states)
us_states_midwest <- us_states %>%
select(NAME, REGION = "Midwest")
us_states_midwest <- us_states %>%
filter(region == "Midwest")
us_states_midwest <- us_states %>%
filter(REGION == "Midwest")
head(us_states_midwest)
plot(us_states_midwest)
head(us_states_df)
head(us_states)
filter_states
filter_states
filter_states <- us_states_df %>%
select(NAME, REGION, AREA, total_pop_15) %>%
filter(REGION == "West",
area < units::set_units(250000, "km^2"),
as.numeric(total_pop_15) > 5000000
)
filter_states <- us_states %>%
select(NAME, REGION, AREA, total_pop_15) %>%
filter(REGION == "West",
area < units::set_units(250000, "km^2"),
as.numeric(total_pop_15) > 5000000
)
filter_states <- us_states %>%
select(NAME, REGION, AREA, total_pop_15) %>%
filter(REGION == "West",
AREA < units::set_units(250000, "km^2"),
as.numeric(total_pop_15) > 5000000
)
filter_states
filter_states
plot(filter_states)
south_states <- us_states %>%
select(NAME, REGION, AREA, total_pop_15) %>%
filter(REGION == "South",
AREA > units::set_units(150000, "km^2") | as.numeric(total_pop_15) > 7000000
)
south_states
plot(south_states)
us_states_total_pop <- us_states %>%
summarize(total_pop_15)
us_states_total_pop <- us_states %>%
reframe(total_pop_15)
us_states_total_pop
plot(us_states_total_pop)
us_states_min_max_pop <- us_states %>%
summarize(
min_pop_2015 = min(us_states_min_max_pop),
max_pop_2015 = max(us_states_min_max_pop)
)
us_states_min_max_pop
# Belong to the South region, had an area larger than 150,000 km2 or a total population in 2015 larger than 7,000,000 residents.
south_states <- us_states %>%
select(NAME, REGION, AREA, total_pop_15) %>%
filter(REGION == "South",
# Question 4
us_states_total_pop <- us_states %>%
summarize(us_states_total_pop = sum(total_pop_15))
us_states_minmax_pop <- us_states %>%
us_states_total_pop
min_pop_2015
# Question 4
# Calculate the total population in 2015
total_population_2015 <- us_states %>%
summarise(total_population_2015 = sum(population.2015))
# Question 4
# Calculate the total population in 2015
total_population_2015 <- us_states %>%
summarize(total_population_2015 = sum(total_pop_15))
# Calculate the minimum and maximum total population in 2015
min_max_population_2015 <- us_states %>%
summarise(
min_population_2015 = min(total_pop_15),
max_population_2015 = max(total_pop_15)
)
# View the results
total_population_2015
min_max_population_2015
plot(total_population_2015)
plot(min_max_population_2015)
total_population_2015 <- us_states %>%
summarize(total_population_2015 = sum(total_pop_15))
total_population_2015
us_states_pop_density |>
mutate(pop_density_2015 = total_pop_15 / AREA,
pop_density_2010 = total_pop_10 / AREA)
library(sf)
library(dplyr)
library(terra)
library(spData)
us_states_pop_density |>
mutate(pop_density_2015 = total_pop_15 / AREA,
pop_density_2010 = total_pop_10 / AREA)
us_states_pop_density <- us_states |>
mutate(pop_density_2015 = total_pop_15 / AREA,
pop_density_2010 = total_pop_10 / AREA)
us_states_pop_density
library(sf)
library(dplyr)
library(terra)
library(spData)
us_states_df
us_states
states_income_west <- us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
select(NAME, REGION, total_pop_15, median_income_15)
states_income_west <- us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
select(NAME, REGION, total_pop_15, median_income_15)
data(us_states)
data(us_states_df)
states_income_west <- us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
select(NAME, REGION, total_pop_15, median_income_15)
states_income_west <- us_states |>
left_join(us_states_df, by = c(NAME = "state"))
select(NAME, REGION, total_pop_15, median_income_15)
us_states_stats = us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
states_income_west <- us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
select(NAME, REGION, total_pop_15, median_income_15)
states_income_west <- us_states |>
left_join(us_states_df, by = c("NAME" = "state"))
select(state, REGION, total_pop_15, median_income_15)
states_income_west <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
select(state, REGION, total_pop_15, median_income_15) %>%
filter(REGION == "West", total_pop_15 > 150000, median_income_15 > 20000)
states_income_west <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
select(NAME, REGION, total_pop_15, median_income_15) %>%
filter(REGION == "West", total_pop_15 > 150000, median_income_15 > 20000)
states_income_west
states_income_west <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
select(NAME, REGION, total_pop_15, median_income_15) %>%
filter(REGION == "West", total_pop_15 > 150000, median_income_15 > 20000) %>%
arrange(desc(total_pop_15))
states_income_west
states_income_west <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
select(NAME, REGION, total_pop_15, median_income_15) %>%
filter(REGION == "West", total_pop_15 > 150000) %>%
arrange(desc(total_pop_15))
states_income_west
states_poverty_line <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
group_by(REGION) %>%
select(NAME, REGION, total_pop_15, median_income_15) %>%
filter(median_income_15 < 15000) %>%
summarize(
min_pop_poverty <- min(total_pop_15),
max_pop_poverty <- max(total_pop_15),
avg_pop_poverty <- avg(total_pop_15)
)
states_poverty_line <- us_states %>%
left_join(us_states_df, by = c("NAME" = "state")) %>%
group_by(REGION) %>%
select(NAME, REGION, total_pop_15, median_income_15) %>%
filter(median_income_15 < 15000) %>%
summarize(
min_pop_poverty <- min(total_pop_15),
max_pop_poverty <- max(total_pop_15),
avg_pop_poverty <- mean(total_pop_15)
)
us_states_pop_density
pop_density_change
pop_density_change <- us_states |>
mutate(change_pop_density = pop_density_2015 - pop_density_2010)
us_states_pop_density <- us_states |>
mutate(pop_density_2015 = total_pop_15 / AREA,
pop_density_2010 = total_pop_10 / AREA)
pop_density_change <- us_states |>
mutate(change_pop_density = pop_density_2015 - pop_density_2010)
plot(change_pop_density_percent)
pop_density_change <- us_states_pop_density |>
mutate(change_pop_density = pop_density_2015 - pop_density_2010,
change_pop_density_percent = (change_pop_density / pop_density_15) * 100
)
pop_density_change <- us_states_pop_density |>
mutate(change_pop_density = pop_density_2015 - pop_density_2010,
change_pop_density_percent = (change_pop_density / pop_density_2015) * 100
)
plot(change_pop_density_percent)
plot(pop_density_change[change_pop_density_percent])
plot(pop_density_change["change_pop_density_percent"])
us_lower_columns <- us_states |>
setNames(colNames(tolower()))
us_lower_columns <- us_states |>
setNames(colnames(tolower()))
us_lower_columns <- us_states |>
setNames(tolower(colnames(.)))
us_states |>
setNames(tolower(colnames()))
us_states |>
setNames(tolower(colnames(.)))
us_states |>
setNames(tolower(colnames()))
us_states %>%
setNames(tolower(colnames(.)))
us_states |>
setNames(tolower(colnames(.)))
us_states %>%
setNames(tolower(colnames(.)))
states_columns_lowercase <- us_states %>%
setNames(tolower(colnames(.)))
us_states_sel |>
left_join(us_states, us_states_df, by = c("NAME" == "state")) %>%
select(median_income_15, geometry) %>%
rename(median_income_15 = Income)
us_states_sel %>%
left_join(us_states, us_states_df, by = c("NAME" == "state")) %>%
select(median_income_15, geometry) %>%
rename(median_income_15 = Income)
us_states_sel <- left_join(us_states, us_states_df, by = c("NAME" == "state")) %>%
select(median_income_15, geometry) %>%
rename(median_income_15 = Income)
us_states_sel <- us_states %>%
left_join(us_states_df, by = c("NAME" == "state")) %>%
select(median_income_15, geometry) %>%
rename(median_income_15 = Income)
us_states_sel <- us_states %>%
left_join(us_states_df, by = c("NAME" == "state")) %>%
select(median_income_15, geometry) %>%
rename(median_income_15 = Income)
us_states_sel <- us_states |>
left_join(us_states_df, by = c("NAME" == "state")) |>
select(median_income_15, geometry) |>
rename(median_income_15 = Income)
us_states_sel <- us_states |>
left_join(us_states_df, by = c("NAME" == "state")) |>
select(median_income_15, geometry) |>
rename(Income = median_income_15)
rlang::last_trace()
us_states_sel <- us_states |>
left_join(us_states_df, by = c("NAME" == "state")) |>
rename(Income = median_income_15)
us_states_sel <- us_states |>
left_join(us_states_df, by = c("NAME" = "state")) |>
select(median_income_15, geometry) |>
rename(Income = median_income_15)
us_states_sel
?us_states_df
us_states_pov <- us_states_df %>%
mutate(us_states_pov_change <- poverty_level_15 - poverty_level_10,
us_sates_pov_change_percent <- (us_states_pov_change / poverty_level_15) * 100)
us_states_pov <- us_states_df %>%
mutate(us_states_pov_change <- poverty_level_15 - poverty_level_10)
us_states_pov
us_states_pov <- us_states_df %>%
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10)
us_states_pov <- us_states |>
left_join(us_states_df, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10)
us_states_pov
us_states_pov
us_states_pov <- us_states |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10)
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10)
us_states_pov
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
filter(state, poverty_level_15, us_states_pov_change)
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
filter(state, poverty_level_15, us_states_pov_change)
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change)
us_states_pov
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change)
arrange(desc())
us_states_pov <- us_states_df |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov
us_states_pov_other <- us_states_pov |>
group_by(REGION) |>
summarize(
min_pop_pov = min(poverty_level_15),
max_pop_pov = max(poverty_level_15),
avg_pop_pov = mean(poverty_level_15)
)
us_states_pov <- us_states_df |>
left_join(us_states_df, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov <- us_states_df |>
left_join(us_states, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov <- us_states_df |>
left_join(us_states, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov <- us_states_df |>
left_join(us_states, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov <- us_states_df |>
left_join(us_states, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov <- us_states_df |>
left_join(us_states, by = c("state" = "NAME")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
select(state, poverty_level_15, us_states_pov_change) |>
arrange(desc(us_states_pov_change))
us_states_pov_other <- us_states_pov |>
group_by(REGION) |>
summarize(
min_pop_pov = min(poverty_level_15),
max_pop_pov = max(poverty_level_15),
avg_pop_pov = mean(poverty_level_15)
)
us_states_pov
us_states_pov_other <- us_states_pov |>
group_by(REGION) |>
summarize(
min_pop_pov = min(poverty_level_15),
max_pop_pov = max(poverty_level_15),
avg_pop_pov = mean(poverty_level_15)
)
us_states_pov <- us_states |>
left_join(us_states_df, by = c("NAME" = "state")) |>
mutate(us_states_pov_change = poverty_level_15 - poverty_level_10) |>
us_states_pov_other <- us_states_pov |>
group_by(REGION) |>
summarize(
min_pop_pov = min(poverty_level_15),
max_pop_pov = max(poverty_level_15),
avg_pop_pov = mean(poverty_level_15)
)
us_states_pov_other <- us_states_pov %>%
group_by(REGION) %>%
summarize(
min_pop_pov = min(poverty_level_15),
max_pop_pov = max(poverty_level_15),
avg_pop_pov = mean(poverty_level_15)
)
us_states_pov
